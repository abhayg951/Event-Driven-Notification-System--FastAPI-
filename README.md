# Event-Driven Notification System

An **Event-Driven Notification System** built using **FastAPI**, **RabbitMQ**, and **MongoDB**, designed to handle different types of notifications (e.g., email, SMS, push) in a scalable and reliable way. The system is capable of managing event queues, retrying failed notifications, and handling large volumes of notifications through dynamic scaling.

## ğŸš€ Key Features

- **Multiple Notification Types**: Supports email, SMS, and push notifications.
- **Event Queue Management**: Utilizes RabbitMQ for managing notification queues efficiently.
- **Retry Mechanism**: Automatically retries failed notifications with configurable retry limits.
- **Rate Limiting**: Prevents system overload by controlling the flow of outgoing notifications.
- **Logging & Monitoring**: Logs every notification event (sent, failed, retry) for auditing and debugging.


## ğŸ› ï¸ Tech Stack

- **Backend Framework**: FastAPI
- **Message Broker**: RabbitMQ
- **Database**: MongoDB
- **Logging & Monitoring**: Integrated logging and monitoring for performance tracking

## ğŸ“œ Project Structure

```bash
.
â”œâ”€â”€ Consumer
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ connection.py           # Configuration connections (MongoDB, RabbitMQ, etc.)
â”‚   â”œâ”€â”€ consumer.py             # Run this to start consuming messages.
â”‚   â”œâ”€â”€ event_logging.py        # Logs the notifications events
â”‚   â”œâ”€â”€ models.py               # Notifications models
â”‚   â”œâ”€â”€ utils.py                # Utility softwares for sending and receiving messages from rabbitmq
â”œâ”€â”€ Producer
â”‚   â”œâ”€â”€ __init__.py             
â”‚   â”œâ”€â”€ collections.py          # MongoDB Collections
â”‚   â”œâ”€â”€ connection.py           # Configuration connections (MongoDB, RabbitMQ, etc.)
â”‚   â”œâ”€â”€ events.py               # RabbitMQ for producing notifications
â”‚   â”œâ”€â”€ main.py                 # FastAPI app
â”‚   â”œâ”€â”€ models.py               # DB Models
â”‚   â”œâ”€â”€ user_routes.py          # API routes for sending http requests
â”œâ”€â”€ requirements.txt            # Dependencies required to run this project
â””â”€â”€ README.md                   # Project documentation
```

## âš™ï¸ How It Works

1. **Event Producer**: Notification events are generated by users or external systems and sent to the RabbitMQ queue.
2. **Queue Management**: RabbitMQ queues handle notification events, ensuring that messages are processed asynchronously.
3. **Consumers**: Multiple consumers (workers) process messages from the queue, sending the notifications to users.
4. **Retries**: Failed notifications are automatically retried based on the retry logic (up to a configurable limit).
5. **Logging & Monitoring**: All notification events are logged, allowing for easy monitoring and troubleshooting.
6. **Dynamic Scaling**: The system can be scaled horizontally to handle higher traffic by adding more consumer instances.

## âœ¨ Advanced Features

- **Retry Mechanism**: Failed notifications are re-queued for retry, with a limit to prevent infinite loops.
- **Rate Limiting**: Controls the flow of notifications to avoid overwhelming external services.
- **WebSocket Support**: For real-time delivery of notifications to connected clients (e.g., dashboards or apps).
- **Event Sourcing**: Maintains a detailed log of every event to allow replay and debugging.
- **Security**: JWT-based authentication ensures that only authorized users can trigger notifications.

## ğŸš€ Getting Started

### Prerequisites

- **Python 3.10+**
- **RabbitMQ** (Install via Docker or locally)
- **MongoDB** (Install via Docker or locally)
  
### Installation

1. Clone the repository:

   ```bash
   git clone https://github.com/username/event-driven-notification-system.git
   cd event-driven-notification-system
   ```

2. Install dependencies:

   ```bash
   pip install -r requirements.txt
   ```

3. Set up your **MongoDB** and **RabbitMQ** instances, then configure the connection.

4. Run the **FastAPI** application:

   ```bash
   fastapi dev Producer/main.py
   ```

5. Run the **RabbitMQ Consumers** to start processing notifications:

   ```bash
   cd Consumer
   python consumer.py
   ```

### Example Request

```bash
POST /notifications
Content-Type: application/json
Authorization: Bearer <JWT Token>

{
  "email": "testin@gmail.com",
  "message": "Hello, you have a new notification!",
  "password": "password",
  "notification_type": "email_notification"
}
```

## ğŸ§© Future Enhancements

- Implement a **dashboard** to monitor real-time notification traffic and system health.
- Add more notification channels like **Slack** and **WhatsApp**.
- Build a mobile-friendly interface for receiving push notifications.
- Schedule notifications

### Note
- This project is made for tutorial for rabbitmq with fastapi. So there may be some security issues and buges.

## ğŸ›¡ï¸ License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

## ğŸ’¬ Contact

Feel free to reach out if you have any questions or suggestions! You can contact me via [LinkedIn](https://linkedin.com/in/abhay-gupta-227b65247/).

---

### â­ï¸ If you find this project helpful, please give it a star!
